$(function(){$(".refresh2324").click(function(){var pl=$(this).attr("pl");var pid=$(this).attr("pid");var refresh='换一换';$.ajax({url:"http://2324.cn/Stat",type:"get",data:{pl:pl,pid:pid,gamename:refresh}});var l=leftArray.length;var randArray=getRandomArray(l);$(".innerline_2324").each(function(index,ele){var index=randArray[index];var id=leftArray[index].id;var Oj=matchArray[id];var ts=Oj.title.split(" ");if(ts[0]==""||ts[0]==null){ts[0]="策略"}if(ts[1]==""||ts[1]==null){ts[1]="23M"}$(this).find(".t1 img").attr("src",leftArray[index].image);$(this).find(".t2 .t21").text(leftArray[index].title);$(this).find(".t1").attr("title",leftArray[index].title);$(this).find(".t1").attr("data-type",ts[0]);$(this).find(".t1").attr("data-size",ts[1]);$(this).find(".t1").attr("data-desc",Oj.desc);$(this).find(".t1").attr("data-download",Oj.url);$(this).find(".t1").attr("data-img",Oj.image);$(this).find(".t2 .t22 .classification").text(ts[0]);$(this).find(".t2 .t22 .size").text(ts[1]);$(this).find("a").attr("href",Oj.url);var people=Math.floor(fRandomBy(10000,12000)*2.5);$(this).find(".t2 .t22 .people").text(people)});$(".module_chess table tr td a").each(function(index,ele){var index=randArray[index+2];var id=leftArray[index].id;var Oj=matchArray[id];$(this).attr("data-desc",Oj.desc);var ts=Oj.title.split(" ");if(ts[0]==""||ts[0]==null){ts[0]="策略"}if(ts[1]==""||ts[1]==null){ts[1]="23M"}$(this).attr("title",leftArray[index].title);$(this).attr("data-type",ts[0]);$(this).attr("data-size",ts[1]);$(this).attr("data-download",Oj.url);$(this).attr("data-img",Oj.image);$(this).find("img").attr("src",leftArray[index].image);$(this).find("b").text(leftArray[index].title)})});$(".module_chess a,.innerline_2324 .t1").click(function(){var pl=$(this).parent().attr("pl");var pid=$(this).parent().attr("pid");var title=$(this).attr("title");$.ajax({url:"http://2324.cn/Stat",type:"get",data:{pl:pl,pid:pid,gamename:title}});var icon=$(this).find("img").attr("src");var ban=$(this).attr("data-img");var type=$(this).attr("data-type");var size=$(this).attr("data-size");var desc=$(this).attr("data-desc");var downloadUrl=$(this).attr("data-download");if($("#absCenShellBox").length>0){$(".fineRec .top img").attr("src",icon);$(".info h5").text(title);$(".info p").html(type+"&nbsp;"+size);$(".fineRec .desc img").attr("src",ban);$(".fineRec .desc span").text(desc);$(".fineRec a").attr("_href",downloadUrl);$(".fineRec a").attr("title",title);$("#absCenShellBox").css("display","block")}else{var htmlCode='<div id="absCenShellBox"class="fineRecomAbsCen"><div class="absCenShell"><div class="absCenCont"><div id="absCenInner"><i class="absCenClose"></i><div class="fineRec"><div class="top"><img src="'+icon+'"><div class="info"><h5>'+title+'</h5><p>'+type+"&nbsp;"+size+'</p></div></div><p class="desc"><img src="'+ban+'"><span>'+desc+'</span></p><a class="downloadBtn download2324" pl="'+pl+'" pid="p13" href="javascript:void(0)" _href="'+downloadUrl+'" title="'+title+'">立刻下载</a></div></div></div></div></div>';$(htmlCode).appendTo("body")}});$(".dload2324").bind({click:function(){var pl=$(this).attr("pl");var pid=$(this).attr("pid");var url=$(this).attr("_href");var title=$(this).attr("title");$.ajax({url:"http://2324.cn/Stat",type:"get",data:{pl:pl,pid:pid,gamename:title}});location.href=url}});$("body").on("click",".download2324",function(){var pl=$(this).attr("pl");var pid=$(this).attr("pid");var url=$(this).attr("_href");var title=$(this).attr("title");$.ajax({url:"http://2324.cn/Stat",type:"get",data:{pl:pl,pid:pid,gamename:title}});location.href=url});$("body").on("click",".absCenClose",function(){$("#absCenShellBox").css("display","none")})});function getRandom(n){return Math.floor(Math.random()*(n+1))}function fRandomBy(under,over){switch(arguments.length){case 1:return parseInt(Math.random()*under+1);case 2:return parseInt(Math.random()*(over-under+1)+under);default:return 0}}function getRandomArray(l){var rArray=new Array();var baseRand=getRandom(l-1);var cArray=new Array();for(var m=0;m<l;m++){cArray.push(m)}rArray.push(baseRand);cArray[baseRand]=-1;for(var i=0;i<9;i++){var k=l-2-i;var newOne=getRandom(k);for(var x in cArray){var g=0;if(x<newOne){g++}if(x==newOne){var newG=newOne+g;if(cArray[newG]!=-1){rArray.push(newG);cArray[newG]=-1}else{var t=1;while(cArray[newG+t]==-1){++t}rArray.push(newG+t);cArray[newG+t]=-1}}}}return rArray}